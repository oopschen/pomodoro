!function(e){function n(t){if(a[t])return a[t].exports;var r=a[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t=window.webpackJsonp;window.webpackJsonp=function(a,o){for(var i,s,l=0,c=[];l<a.length;l++)s=a[l],r[s]&&c.push.apply(c,r[s]),r[s]=0;for(i in o)e[i]=o[i];for(t&&t(a,o);c.length;)c.shift().call(null,n)};var a={},r={2:0};return n.e=function(e,t){if(0===r[e])return t.call(null,n);if(void 0!==r[e])r[e].push(t);else{r[e]=[t];var a=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=n.p+""+e+"."+({}[e]||e)+".js",a.appendChild(o)}},n.m=e,n.c=a,n.p="",n(0)}([function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** multi index\n ** module id = 0\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///multi_index?")},function(module,exports,__webpack_require__){eval('__webpack_require__.e/* require */(1, function() {[__webpack_require__(6)];});\n__webpack_require__.e/* require */(0, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(5), __webpack_require__(4)]; (function(vendor, Pomo) {\n  var React = vendor.react,\n      $ =  vendor.$,\n      ps = vendor.ps;\n\n  var CONST_STORE_KEY = "pormodoro.opt",\n      CONST_SAVE_OPT = "opt.save",\n      CONST_UP_TIME = "timer.up";\n\n  var optStore = vendor.rhaboo.persistent("pomodoro.optstore");\n  var notifySnd = __webpack_require__(3);\n  var player;\n\n  //pomodoro instance\n  var pomoCB = function(flag, sec) {\n    if (Pomo.FLAG.CNT_DOWN === flag) {\n      ps.publish(CONST_UP_TIME, {sec:sec, flag: flag});\n\n    } else {\n      ps.publish(CONST_UP_TIME, {flag: flag});\n\n    }\n  };\n  var pomoIns = new Pomo(pomoCB, optStore[CONST_STORE_KEY]);\n\n  // utils\n  var paddingZero = function(val) {\n    return 10 > val ? ("0" + val) : val;\n  };\n\n  //option components\n  var OptCmp = React.createClass({displayName: "OptCmp",\n    mixins: [React.addons.LinkedStateMixin],\n    render: function() {\n      return (\n        React.createElement("form", null, \n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-6 columns"}, \n              React.createElement("label", null, this.props.workTimeName, \n                React.createElement("input", {type: "text", valueLink: this.linkState(\'workMin\')})\n              )\n            ), \n\n            React.createElement("div", {className: "small-6 columns"}, \n              React.createElement("label", null, this.props.breakTimeName, \n                React.createElement("input", {type: "text", valueLink: this.linkState(\'breakMin\')})\n              )\n            )\n          ), \n\n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-6 columns"}, \n              React.createElement("label", null, this.props.longbreakTimeName, \n                React.createElement("input", {type: "text", valueLink: this.linkState(\'longBreakMin\')})\n              )\n            ), \n\n            React.createElement("div", {className: "small-6 columns"}, \n              React.createElement("label", null, this.props.longBreakThreadhold, \n                React.createElement("input", {type: "text", valueLink: this.linkState(\'lbMinThrd\')})\n              )\n            )\n          ), \n\n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-4 small-centered columns"}, \n              React.createElement("a", {href: "javascript:void(0);", className: "button round columns", onClick: this.saveData}, this.props.submitBtnName)\n            )\n          )\n\n        )\n      );\n    },\n\n    getInitialState: function() {\n      var val = pomoIns.getSetting();\n      return !val || undefined === val.workMin ? $.extend({}, Pomo.DEFAULTS) : val;\n    },\n\n    getDefaultProps: function() {\n      return {\n        workTimeName: \'Work Time(Min)\',\n        breakTimeName: \'Break Time(Min)\',\n        longbreakTimeName: \'Long Break Time(Min)\',\n        longBreakThreadhold: \'Long Break ThreadHold(Time)\',\n        submitBtnName: \'Save\'\n      };\n    },\n\n    saveData: function() {\n      optStore.write(CONST_STORE_KEY, this.state);\n      pomoIns.update(this.state);\n      ps.publish(CONST_SAVE_OPT);\n    }\n\n  });\n\n  //main components\n  var MainCmp = React.createClass({displayName: "MainCmp",\n    getDefaultProps: function() {\n      return {\n        btnNextName: "Next",\n        btnResetName: "Reset",\n      };\n    },\n\n    getInitialState: function() {\n      ps.subscribe(CONST_UP_TIME, function(msg, data) {\n        if (msg !== CONST_UP_TIME) {\n          return;\n        }\n\n        if (Pomo.FLAG.CNT_DOWN === data.flag) {\n          var min = Math.floor(data.sec / 60),\n              sec = data.sec - min * 60;\n          this.setState({min:paddingZero(min), sec: paddingZero(sec)});\n          return;\n\n        }\n\n        // play sound\n        player.jPlayer("play", 0);\n\n        var tPrompt;\n        if (Pomo.FLAG.END_WK === data.flag) {\n          tPrompt = "Work Done, take a break!";\n\n        } else if (Pomo.FLAG.END_BK === data.flag || Pomo.FLAG.END_L_BK === data.flag) {\n          tPrompt = "Break Time Over!";\n\n        }\n        this.setState({min:paddingZero(0), sec: paddingZero(0), timeoutPrompt: tPrompt, tt:true});\n\n      }.bind(this));\n\n      return {\n        tt: false,\n        min: "00",\n        sec: "00",\n        timeoutPrompt: ""\n      };\n    },\n\n    render: function() {\n      return (\n        React.createElement("div", {className: "row"}, \n\n          React.createElement("div", {className: this.state.tt ? "row" : "hide"}, \n            React.createElement("div", {className: "small-5 small-centered column"}, \n              React.createElement("div", {"data-alert": true, className: "alert-box success radius"}, \n                this.state.timeoutPrompt, \n                    React.createElement("a", {href: "javascript:void(0);", className: "close"}, "Ã—")\n              )\n            )\n          ), \n\n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-8 small-centered columns"}, \n                React.createElement("span", {className: "text-center margin-20 font-15"}, this.state.min), \n                React.createElement("span", {className: "text-center margin-20 font-12"}, ":"), \n                React.createElement("span", {className: "text-center margin-20 font-15"}, this.state.sec)\n            )\n          ), \n\n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-5 small-centered columns"}, \n              React.createElement("ul", {className: "button-group round even-2"}, \n                React.createElement("li", null, React.createElement("a", {href: "javascript:void(0);", className: "button", onClick: this.hdlNext}, this.props.btnNextName)), \n                React.createElement("li", null, React.createElement("a", {href: "javascript:void(0);", className: "button", onClick: this.hdlReset}, this.props.btnResetName))\n              )\n            )\n          )\n\n        )\n      );\n    },\n\n    hdlNext: function() {\n      this.setState({tt:false});\n      pomoIns.next();\n    },\n\n    hdlReset: function() {\n      this.setState({tt:false, min: "00", sec: "00"});\n      pomoIns.reset();\n    }\n\n  });\n\n  //mainApp\n  var MainApp = React.createClass({displayName: "MainApp",\n    getDefaultProps: function() {\n      return {\n         mainName:"Pomodoro",\n         mainURL:"http://pomodorotechnique.com",\n         optName: "Option",\n         closeOptname: "Close"\n      };\n    },\n\n    showOpt: function() {\n      this.setState(function(pSt) {\n        return {showOpt: !pSt.showOpt};\n      });\n    },\n\n    getInitialState: function() {\n      ps.subscribe(CONST_SAVE_OPT, function() {\n        this.showOpt();\n      }.bind(this));\n      return {showOpt: false};\n    },\n\n    render: function() {\n      var showOpt = this.state.showOpt;\n      return (\n        React.createElement("div", null, \n          React.createElement("div", {className: "row"}, \n            React.createElement("div", {className: "small-12", id: "stb"}, \n              React.createElement("nav", {className: "top-bar", "data-topbar": true, role: "navigation"}, \n                React.createElement("ul", {className: "title-area"}, \n                  React.createElement("li", {className: "name"}, \n                    React.createElement("h1", null, React.createElement("a", {href: this.props.mainURL, target: "_blank"}, this.props.mainName))\n                  ), \n                  React.createElement("li", {className: "toggle-topbar menu-icon"}, React.createElement("a", {href: "javascript:void(0);"}, React.createElement("span", null)))\n                ), \n\n                React.createElement("section", {className: "top-bar-section"}, \n                    React.createElement("ul", {className: "right"}, \n                      React.createElement("li", null, React.createElement("a", {href: "javascript:void(0);", onClick: this.showOpt}, showOpt? this.props.closeOptname : this.props.optName))\n                    )\n                )\n              )\n            )\n          ), \n\n          React.createElement("div", {className: "row"}, \n            React.createElement("div", null, \n              React.createElement("div", {className: showOpt ? "hide" : "small-12 columns"}, \n                React.createElement(MainCmp, null)\n              ), \n\n              React.createElement("div", {className: showOpt ? "small-12 columns" : "hide"}, \n                React.createElement(OptCmp, null)\n              )\n            )\n          ), \n\n          React.createElement("div", {className: "hide"}, \n            React.createElement("div", {id: "player"}), \n            React.createElement("div", {id: "playerC"}, React.createElement("a", {className: "jp-play", href: "javascript:void(0);"}, "Play"))\n          )\n        )\n      );\n    }\n  });\n\n  React.render(React.createElement(MainApp, null), document.body, function() {\n    $("#stb").foundation();\n    $("#main").foundation();\n\n    player = $(\'#player\').jPlayer({\n      swfPath: __webpack_require__(2),\n      preload: \'auto\',\n      cssSelectorAncestor: "#playerC",\n      volume: 1,\n      errorAlerts: false,\n      warningAlerts: false,\n      ready: function () {\n        $(this).jPlayer("setMedia", {\n          mp3: notifySnd // Defines the mp3 url\n        });\n      }\n    });\n  });\n\n}.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./script/index_jsx.js\n ** module id = 1\n ** module chunks = 2\n **/\n//# sourceURL=webpack:///./script/index_jsx.js?')}]);